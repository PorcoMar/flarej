(function e(t,n,r){function i(o,a){if(!n[o]){if(!t[o]){var u=typeof require=="function"&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return i(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<r.length;o++)i(r[o]);return i})({1:[function(e,t,n){function r(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}t.exports=r;r.EventEmitter=r;r.prototype._events=undefined;r.prototype._maxListeners=undefined;r.defaultMaxListeners=10;r.prototype.setMaxListeners=function(e){if(!s(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};r.prototype.emit=function(e){var t,n,r,s,u,f;if(!this._events)this._events={};if(e==="error"){if(!this._events.error||o(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error){throw t}throw TypeError('Uncaught, unspecified "error" event.')}}n=this._events[e];if(a(n))return false;if(i(n)){switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=arguments.length;s=new Array(r-1);for(u=1;u<r;u++)s[u-1]=arguments[u];n.apply(this,s)}}else if(o(n)){r=arguments.length;s=new Array(r-1);for(u=1;u<r;u++)s[u-1]=arguments[u];f=n.slice();r=f.length;for(u=0;u<r;u++)f[u].apply(this,s)}return true};r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",e,i(t.listener)?t.listener:t);if(!this._events[e])this._events[e]=t;else if(o(this._events[e]))this._events[e].push(t);else this._events[e]=[this._events[e],t];if(o(this._events[e])&&!this._events[e].warned){var n;if(!a(this._maxListeners)){n=this._maxListeners}else{n=r.defaultMaxListeners}if(n&&n>0&&this._events[e].length>n){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);if(typeof console.trace==="function"){console.trace()}}}return this};r.prototype.on=r.prototype.addListener;r.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=false;function r(){this.removeListener(e,r);if(!n){n=true;t.apply(this,arguments)}}r.listener=t;this.on(e,r);return this};r.prototype.removeListener=function(e,t){var n,r,s,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;n=this._events[e];s=n.length;r=-1;if(n===t||i(n.listener)&&n.listener===t){delete this._events[e];if(this._events.removeListener)this.emit("removeListener",e,t)}else if(o(n)){for(a=s;a-- >0;){if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}}if(r<0)return this;if(n.length===1){n.length=0;delete this._events[e]}else{n.splice(r,1)}if(this._events.removeListener)this.emit("removeListener",e,t)}return this};r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[e])delete this._events[e];return this}if(arguments.length===0){for(t in this._events){if(t==="removeListener")continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}n=this._events[e];if(i(n)){this.removeListener(e,n)}else{while(n.length)this.removeListener(e,n[n.length-1])}delete this._events[e];return this};r.prototype.listeners=function(e){var t;if(!this._events||!this._events[e])t=[];else if(i(this._events[e]))t=[this._events[e]];else t=this._events[e].slice();return t};r.listenerCount=function(e,t){var n;if(!e._events||!e._events[t])n=0;else if(i(e._events[t]))n=1;else n=e._events[t].length;return n};function i(e){return typeof e==="function"}function s(e){return typeof e==="number"}function o(e){return typeof e==="object"&&e!==null}function a(e){return e===void 0}},{}],2:[function(e,t,n){if(typeof Object.create==="function"){t.exports=function e(t,n){t.super_=n;t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}else{t.exports=function e(t,n){t.super_=n;var r=function(){};r.prototype=n.prototype;t.prototype=new r;t.prototype.constructor=t}}},{}],3:[function(e,t,n){var r=t.exports={};r.nextTick=function(){var e=typeof window!=="undefined"&&window.setImmediate;var t=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(e){return function(e){return window.setImmediate(e)}}if(t){var n=[];window.addEventListener("message",function(e){var t=e.source;if((t===window||t===null)&&e.data==="process-tick"){e.stopPropagation();if(n.length>0){var r=n.shift();r()}}},true);return function e(t){n.push(t);window.postMessage("process-tick","*")}}return function e(t){setTimeout(t,0)}}();r.title="browser";r.browser=true;r.env={};r.argv=[];function i(){}r.on=i;r.addListener=i;r.once=i;r.off=i;r.removeListener=i;r.removeAllListeners=i;r.emit=i;r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],4:[function(e,t,n){t.exports=function e(t){return t&&typeof t==="object"&&typeof t.copy==="function"&&typeof t.fill==="function"&&typeof t.readUInt8==="function"}},{}],5:[function(e,t,n){(function(t,r){var i=/%[sdj%]/g;n.format=function(e){if(!x(e)){var t=[];for(var n=0;n<arguments.length;n++){t.push(a(arguments[n]))}return t.join(" ")}var n=1;var r=arguments;var s=r.length;var o=String(e).replace(i,function(e){if(e==="%%")return"%";if(n>=s)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}});for(var u=r[n];n<s;u=r[++n]){if(_(u)||!O(u)){o+=" "+u}else{o+=" "+a(u)}}return o};n.deprecate=function(e,i){if(S(r.process)){return function(){return n.deprecate(e,i).apply(this,arguments)}}if(t.noDeprecation===true){return e}var s=false;function o(){if(!s){if(t.throwDeprecation){throw new Error(i)}else if(t.traceDeprecation){console.trace(i)}else{console.error(i)}s=true}return e.apply(this,arguments)}return o};var s={};var o;n.debuglog=function(e){if(S(o))o=t.env.NODE_DEBUG||"";e=e.toUpperCase();if(!s[e]){if(new RegExp("\\b"+e+"\\b","i").test(o)){var r=t.pid;s[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else{s[e]=function(){}}}return s[e]};function a(e,t){var r={seen:[],stylize:f};if(arguments.length>=3)r.depth=arguments[2];if(arguments.length>=4)r.colors=arguments[3];if(y(t)){r.showHidden=t}else if(t){n._extend(r,t)}if(S(r.showHidden))r.showHidden=false;if(S(r.depth))r.depth=2;if(S(r.colors))r.colors=false;if(S(r.customInspect))r.customInspect=true;if(r.colors)r.stylize=u;return h(r,e,r.depth)}n.inspect=a;a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(e,t){var n=a.styles[t];if(n){return"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m"}else{return e}}function f(e,t){return e}function c(e){var t={};e.forEach(function(e,n){t[e]=true});return t}function h(e,t,r){if(e.customInspect&&t&&F(t.inspect)&&t.inspect!==n.inspect&&!(t.constructor&&t.constructor.prototype===t)){var i=t.inspect(r,e);if(!x(i)){i=h(e,i,r)}return i}var s=l(e,t);if(s){return s}var o=Object.keys(t);var a=c(o);if(e.showHidden){o=Object.getOwnPropertyNames(t)}if(U(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0)){return p(t)}if(o.length===0){if(F(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(E(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}if(P(t)){return e.stylize(Date.prototype.toString.call(t),"date")}if(U(t)){return p(t)}}var f="",y=false,_=["{","}"];if(g(t)){y=true;_=["[","]"]}if(F(t)){var w=t.name?": "+t.name:"";f=" [Function"+w+"]"}if(E(t)){f=" "+RegExp.prototype.toString.call(t)}if(P(t)){f=" "+Date.prototype.toUTCString.call(t)}if(U(t)){f=" "+p(t)}if(o.length===0&&(!y||t.length==0)){return _[0]+f+_[1]}if(r<0){if(E(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}else{return e.stylize("[Object]","special")}}e.seen.push(t);var b;if(y){b=d(e,t,r,a,o)}else{b=o.map(function(n){return v(e,t,r,a,n,y)})}e.seen.pop();return m(b,f,_)}function l(e,t){if(S(t))return e.stylize("undefined","undefined");if(x(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(b(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(_(t))return e.stylize("null","null")}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i){var s=[];for(var o=0,a=t.length;o<a;++o){if(q(t,String(o))){s.push(v(e,t,n,r,String(o),true))}else{s.push("")}}i.forEach(function(i){if(!i.match(/^\d+$/)){s.push(v(e,t,n,r,i,true))}});return s}function v(e,t,n,r,i,s){var o,a,u;u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]};if(u.get){if(u.set){a=e.stylize("[Getter/Setter]","special")}else{a=e.stylize("[Getter]","special")}}else{if(u.set){a=e.stylize("[Setter]","special")}}if(!q(r,i)){o="["+i+"]"}if(!a){if(e.seen.indexOf(u.value)<0){if(_(n)){a=h(e,u.value,null)}else{a=h(e,u.value,n-1)}if(a.indexOf("\n")>-1){if(s){a=a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2)}else{a="\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")}}}else{a=e.stylize("[Circular]","special")}}if(S(o)){if(s&&i.match(/^\d+$/)){return a}o=JSON.stringify(""+i);if(o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){o=o.substr(1,o.length-2);o=e.stylize(o,"name")}else{o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");o=e.stylize(o,"string")}}return o+": "+a}function m(e,t,n){var r=0;var i=e.reduce(function(e,t){r++;if(t.indexOf("\n")>=0)r++;return e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(i>60){return n[0]+(t===""?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]}return n[0]+t+" "+e.join(", ")+" "+n[1]}function g(e){return Array.isArray(e)}n.isArray=g;function y(e){return typeof e==="boolean"}n.isBoolean=y;function _(e){return e===null}n.isNull=_;function w(e){return e==null}n.isNullOrUndefined=w;function b(e){return typeof e==="number"}n.isNumber=b;function x(e){return typeof e==="string"}n.isString=x;function R(e){return typeof e==="symbol"}n.isSymbol=R;function S(e){return e===void 0}n.isUndefined=S;function E(e){return O(e)&&L(e)==="[object RegExp]"}n.isRegExp=E;function O(e){return typeof e==="object"&&e!==null}n.isObject=O;function P(e){return O(e)&&L(e)==="[object Date]"}n.isDate=P;function U(e){return O(e)&&(L(e)==="[object Error]"||e instanceof Error)}n.isError=U;function F(e){return typeof e==="function"}n.isFunction=F;function I(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}n.isPrimitive=I;n.isBuffer=e("./support/isBuffer");function L(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date;var t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),j[e.getMonth()],t].join(" ")}n.log=function(){console.log("%s - %s",A(),n.format.apply(n,arguments))};n.inherits=e("inherits");n._extend=function(e,t){if(!t||!O(t))return e;var n=Object.keys(t);var r=n.length;while(r--){e[n[r]]=t[n[r]]}return e};function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}).call(this,e("JkpR2F"),typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":4,JkpR2F:3,inherits:2}],6:[function(e,t,n){var r=e("util");var i=e("./helpers");var s=i.compact;var o=i.map;var a=e("events").EventEmitter;var u=function(){this.getExitMessage=function(){return s(o(this.listeners("exit"),function(e){return e()})).join(", ")||undefined};return this};r.inherits(u,a);t.exports=u},{"./helpers":7,events:1,util:5}],7:[function(e,t,n){var r=function(e,t){return function(){e.apply(t,Array.prototype.slice.call(arguments))}};var i=function(e,t,n){n=n||this;for(var r=0,i=e.length;r<i;r++){t.call(n,e[r],r)}};var s=function(e){return e.filter(function(e){return!!e})};var o=function(e,t){return e.map(t)};var a=function(){var e={},t=Array.prototype.slice.call(arguments,0);i(t,function(t){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}});return e};var u=function(e,t,n,i){e.addEventListener(t,r(n,i),false)};var f=function(e){return Array.isArray(e)};var c=function(e){return typeof e==="function"};var h=function(e){return!!e&&e.constructor===Object};var l=function(e){return typeof e==="string"};t.exports={bind:r,each:i,compact:s,map:o,merge:a,addEvent:u,isArray:f,isFunc:c,isPlainObject:h,isString:l}},{}],8:[function(e,t,n){var r=e("./navigator");var i=e("./action_emitter");var s={pushStateEnabled:"pushState"in window.history,linkSelector:"a.navigate",root:"",_navigator:new r,_ActionEmitter:i,setRoutes:function(e){this._navigator.setRoutes(e)},dispatch:function(){var e=this._navigator;e.setup({pushStateEnabled:this.pushStateEnabled,linkSelector:this.linkSelector,root:this.root});e.dispatch()},navigate:function(e,t){this._navigator.navigate(e,t)},hrefFor:function(e,t){return this._navigator.hrefFor(e,t)},serializeQueryParams:function(e){return this._navigator.serializeQueryParams(e)},getCurrentRequest:function(){return this._navigator.getCurrentRequest()},getCurrentURI:function(){return this._navigator.getCurrentURI()},refresh:function(){this._navigator.refresh()},rewriteRouteTo:function(e){var t={rewrite:function(t){s.navigate(e,{namedParams:t.namedParams,replace:true})}};return{target:t,"/":"rewrite"}}};if(window){window.Aviator=s}t.exports=s},{"./action_emitter":6,"./navigator":9}],9:[function(e,t,n){var r=e("./action_emitter");var i=e("./helpers"),s=e("./request"),o=e("./route");var a=i.each,u=i.map,f=i.compact,c=i.addEvent,h=i.isArray;var l=function(){this._routes=null;this._exits=[];this._silent=false;this._dispatchingStarted=false;this._emitters=[]};l.prototype={setup:function(e){e=e||{};for(var t in e){if(e.hasOwnProperty(t)){this[t]=e[t]}}this._attachEvents()},setRoutes:function(e){this._routes=e},createRouteForURI:function(e){return new o(this._routes,e)},createRequest:function(e,t,n){this._request=new s({uri:e,queryString:t,matchedRoute:n});return this._request},getCurrentRequest:function(){return this._request},getCurrentPathname:function(){if(this.pushStateEnabled){return this._removeURIRoot(location.pathname)}else{return location.hash.replace("#","").split("?")[0]}},getCurrentURI:function(){if(this.pushStateEnabled){return this._removeURIRoot(location.pathname)+location.search}else{return location.hash.replace("#","")}},getQueryString:function(){var e,t;if(this.pushStateEnabled){return location.search||null}else{t=this.getCurrentURI().split("?")[1];if(t){return"?"+t}else{return null}}},dispatch:function(){var e=this.getCurrentPathname(),t=this.createRouteForURI(e),n=this.getQueryString(),r=this.createRequest(e,n,t.matchedRoute);this._emitters=[];this._invokeExits(r);this._actions=t.actions;if(!this._silent){this._invokeActions(r,t.options)}this._exits=t.exits;if(!this._dispatchingStarted){this._dispatchingStarted=true}},onURIChange:function(){this.dispatch();this._silent=false},onPopState:function(e){if(this._dispatchingStarted){this.onURIChange()}},onClick:function(e){var t=e.target,n=this._matchesSelector(t),r,i;if(e.button===1||e.metaKey||e.ctrlKey)return;while(t){if(this._matchesSelector(t)){break}t=t.parentNode}if(!t)return;e.preventDefault();i=this._stripDomain(t.href,window.location.hostname);r=this._removeURIRoot(i);this.navigate(r)},getExitMessage:function(){return f(u(this._emitters,function(e){return e.getExitMessage()})).join(", ")||undefined},onBeforeUnload:function(e){var t=this.getExitMessage();if(t){e.returnValue=t;return t}},navigate:function(e,t){var n;var r=this.getExitMessage();if(r&&!window.confirm(r)){return}t=t||{};this._actions=[];n=this.hrefFor(e,t);if(t.silent){this._silent=true}if(this.pushStateEnabled){n=this._removeURIRoot(n);n=this.root+n;if(t.replace){history.replaceState("navigate","",n)}else{history.pushState("navigate","",n)}this.onURIChange()}else{if(t.replace)location.replace("#"+n);else location.hash=n}},hrefFor:function(e,t){t=t||{};var n=e+"";var r=this.getCurrentRequest();var i=t.namedParams;var s=t.queryParams;if(!i&&r){i=r.namedParams}if(s){n+=this.serializeQueryParams(s)}if(i){for(var o in i){if(i.hasOwnProperty(o)){n=n.replace(":"+o,encodeURIComponent(i[o]))}}}return n},refresh:function(){this.dispatch()},_attachEvents:function(){var e=this.pushStateEnabled;if(e){var t=this;setTimeout(function(){c(window,"popstate",t.onPopState,t)},0)}else{c(window,"hashchange",this.onURIChange,this)}c(document,"click",this.onClick,this);c(window,"beforeunload",this.onBeforeUnload,this)},_matchesSelector:function(e){var t=document.querySelectorAll(this.linkSelector),n=false,r;for(r=0;r<t.length;r++){if(!n)n=e===t[r];else break}return n},_invokeExits:function(e){var t,n,r;while(this._exits.length){t=this._exits.pop();n=t.target;r=t.method;if(!(r in n)){throw new Error("Can't call exit "+r+" on target when changing uri to "+request.uri)}n[r].call(n,e)}},_invokeActions:function(e,t){var n,i,s,o;while(this._actions.length){n=this._actions.shift();i=n.target;s=n.method;o=new r;if(!(s in i)){throw new Error("Can't call action "+s+" on target for uri "+e.uri)}this._emitters.push(o);i[s].call(i,e,t,o)}},_removeURIRoot:function(e){var t=new RegExp("^"+this.root);return e.replace(t,"")},_stripDomain:function(e,t){var t=t?t:window.location.hostname,n=e.indexOf(t)+t.length;return e.substr(n)},serializeQueryParams:function(e){var t=[],n;for(var r in e){if(e.hasOwnProperty(r)){n=e[r];if(h(n)){a(n,function(e){t.push(encodeURIComponent(r)+"[]="+encodeURIComponent(e))})}else{t.push(encodeURIComponent(r)+"="+encodeURIComponent(n))}}}t="?"+t.join("&");return t}};t.exports=l},{"./action_emitter":6,"./helpers":7,"./request":10,"./route":11}],10:[function(e,t,n){var r=e("./helpers"),i=r.each,s=r.merge,o=r.isArray;var a=function(e){this.namedParams={};this.queryParams={};this.params={};this.uri=e.uri;this.queryString=e.queryString;this.matchedRoute=e.matchedRoute;this._extractNamedParamsFromURI();this._extractQueryParamsFromQueryString();this._mergeParams()};a.prototype={_extractNamedParamsFromURI:function(){var e=this.uri.split("/"),t=this.matchedRoute.split("/"),n={};i(t,function(t,r){var i;if(t.indexOf(":")===0){i=t.replace(":","");n[i]=decodeURIComponent(e[r])}});this.namedParams=n},_extractQueryParamsFromQueryString:function(){var e;if(!this.queryString)return;e=this.queryString.replace("?","").split("&");i(e,function(e){var t=decodeURIComponent(e.split("=")[0]),n=decodeURIComponent(e.split("=")[1]);if(e.indexOf("=")===-1)return;this._applyQueryParam(t,n)},this)},_applyQueryParam:function(e,t){if(e.indexOf("[]")!==-1){e=e.replace("[]","");if(o(this.queryParams[e])){this.queryParams[e].push(t)}else{this.queryParams[e]=[t]}}else{this.queryParams[e]=t}},_mergeParams:function(){this.params=s(this.namedParams,this.queryParams)}};t.exports=a},{"./helpers":7}],11:[function(e,t,n){var r=e("./helpers"),i=r.merge,s=r.isFunc,o=r.isString,a=r.isPlainObject;var u=function(e,t){this.uri=t;this.matchedRoute="";this.targets=[];this.actions=[];this.exits=[];this.options={};this.notFound=null;this.fullMatch=false;this.matchOrNotFound(e);this.uri=t};u.prototype={matchOrNotFound:function(e){this.match(e);if(!this.fullMatch&&this.notFound){this.actions.push(this.notFound)}},match:function(e){var t,n,r;if(e.target){this.targets.push(e.target)}if(this.targets.length){r=this.targets[this.targets.length-1]}if(e.notFound&&r[e.notFound]){this.notFound={target:r,method:e.notFound}}else if(s(e.notFound)){this.notFound=this.anonymousAction(e.notFound)}for(var i in e){if(e.hasOwnProperty(i)){n={target:r,method:null};t=e[i];if(this.isFragment(i)&&this.isFragmentInURI(i)){this.updateMatchedRoute(i);this.removeFragmentFromURI(i);if(this.isActionDescriptor(t)){if(!this.isNamedParam(i)||!n.method){if(o(t)){n.method=t}else if(s(t)){n=this.anonymousAction(t)}else{n.method=t.method;if(t.exit){this.exits.unshift({method:t.exit,target:e.target})}if(t.options){this.mergeOptions(t.options)}}this.actions.push(n);if(i!=="/*"){this.fullMatch=true}}}else if(t.hasOwnProperty("options")){this.mergeOptions(t.options)}if(a(t)){this.match(t)}}}}},mergeOptions:function(e){this.options=i(this.options,e)},updateMatchedRoute:function(e){if(e!=="/"&&e!=="/*"){this.matchedRoute+=e}},removeFragmentFromURI:function(e){var t=this.uri,n,r;if(e!=="/"&&e!=="/*"){if(this.includesNamedParam(e)){n=t.split("/"),r=e.split("/");r.forEach(function(e,r){if(e.indexOf(":")===0){t=t.replace("/"+n[r],"")}else if(e){t=t.replace("/"+e,"")}})}else{t=t.replace(e,"")}}this.uri=t},isFragmentInURI:function(e){var t=this.uri,n,r;if(t==="/"||t===""){return e==="/"||e==="/*"}if(e==="/"){return false}else if(e==="/*"){return true}else if(this.includesNamedParam(e)){n=t.split("/"),r=e.split("/");if(r.length===2){return true}return r.map(function(e,t){if(e.indexOf(":")===0){return true}else{return n[t].indexOf(e)!==-1}}).reduce(function(e,t){return e&&t})}else{return t.indexOf(e)===0}},includesNamedParam:function(e){return e.indexOf("/:")!==-1},isFragment:function(e){return e.indexOf("/")===0},isActionDescriptor:function(e){return o(e)||s(e)||a(e)&&e.method},isNamedParam:function(e){return e.indexOf("/:")===0},anonymousAction:function(e){return{target:{lambda:e},method:"lambda"}}};t.exports=u},{"./helpers":7}]},{},[8]);